<!DOCTYPE html>
<html>
<head>
    <title>Playing Card with Reflection in Three.js</title>
    <style>
        body { margin: 0; }
        canvas { width: 100%; height: 100% }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0xffffff, 1); // Set background color to white
        document.body.appendChild(renderer.domElement);

        // Add lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5); // Soft white light
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
        directionalLight.position.set(0, 1, 1);
        scene.add(directionalLight);

        // Card texture
        const loader = new THREE.TextureLoader();
        const cardTexture = loader.load('http://localhost:8000/textures/card_front.png');

        // Calculate aspect ratio of the image
        const aspectRatio = 500 / 726;
        const cardHeight = 5;
        const cardWidth = cardHeight * aspectRatio;

        // Card geometry and mesh
        const cardGeometry = new THREE.PlaneGeometry(cardWidth, cardHeight);
        const cardMaterial = new THREE.MeshBasicMaterial({ map: cardTexture });
        const card = new THREE.Mesh(cardGeometry, cardMaterial);
        card.position.set(0, 0, 0);
        scene.add(card);

        // Reflection
        const reflectionGeometry = new THREE.PlaneGeometry(cardWidth, cardHeight);
        const reflectionMaterial = new THREE.MeshBasicMaterial({
            map: cardTexture,
            opacity: 0.3,
            transparent: true,
            side: THREE.FrontSide
        });
        const reflection = new THREE.Mesh(reflectionGeometry, reflectionMaterial);
        reflection.position.set(0, -cardHeight * 1.1, 0); // Slightly offset the reflection
        reflection.rotateX(-Math.PI); // Flip the reflection
        scene.add(reflection);

        // Camera position
        camera.position.set(0, 0, 10);
        camera.lookAt(scene.position);

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }
        animate();
    </script>
</body>
</html>
